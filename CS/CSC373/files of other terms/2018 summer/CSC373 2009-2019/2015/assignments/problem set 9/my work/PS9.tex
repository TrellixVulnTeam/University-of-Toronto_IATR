\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{amssymb}
\usepackage{clrscode3e}
\usepackage{extarrows}

\setlength{\parskip}{2ex}
\newcommand{\qedsymb}{\hfill{\rule{2mm}{2mm}}}
\newenvironment{proof}{\vspace{-1mm}\begin{trivlist}
}{\qedsymb\end{trivlist}\vspace{-1mm}}

\begin{document}
\begin{center}
{\bf \Large \bf CSC373 Winter 2015 Problem Set \# 9}\\
Name: Weidong An\\
Student Number: 1000385095\\
UTOR email: weidong.an@mail.utoronto.ca\\
\today\\
\end{center}
First, define the decision problem and the search problem of \const{SubsetSum}.\\
\\
\underline{\const{SubsetSum} decision problem:}\\
Input: A set $S \subseteq {\bf Z^+}$ and $t \in {\bf Z^+}$\\
Output: Is there some subset of $S$ whose sum is exactly $t$?\\
\\
\underline{\const{SubsetSum} search problem:}\\
Input: A set $S \subseteq {\bf Z^+}$ and $t \in {\bf Z^+}$\\
Output: A subset of $S$ whose sum is exactly $t$, or \const{nil} if there is no such subset.\\
\\
We show that \const{SubsetSum} problem is self-reducible by showing
\begin{center}
 $\const{SubsetSumSearch} \xrightarrow[~p~]{} \const{SubsetSumDecision}$.
\end{center}
{\bf Proof:} Suppose algorithm \const{Ssd}$(S, t)$ solves \const{SubsetSumDecision} in polynomial time $T(n)$ where $n = |S|$.\\
Consider the following algorithm \const{Sss}$(S, t)$ that solves \const{SubsetSumSearch} in polynomial time.
\begin{codebox}
\Procname{$\proc{Sss}(S, t)$}
\li \If {\bf not} \const{Ssd}$(S, t)$
\li    \Then \Return \const{false} \End
\li \For each $x \in S$ \Then
\li     \If \const{Ssd}$(S - \{x\}, t)$
\li          \Then $S \gets S - \{x\}$ \End\End
\li \Return $S$
\end{codebox}
{\bf Runtime analysis}\\
In the worst case, the for-loop iterates $n$ times. It takes $O(n)$ time to form a subset of $S$ in each iteration. It takes $O(T(n))$ time to call \const{Ssd} in each iteration. Hence, the algorithm runs in $nO(n + T(n)) = O(n^2+ nT(n))$. If \const{Ssd} runs in polynomial time, then \const{Sss} runs in polynomial time.\\
\\
{\bf Justification of correctness}\\
Let $S_i$ denote the value of $S$ after each iteration. In particular, $S_0$ is equal to the initial set $S$.
Claim: $C \subseteq S_i$ is a loop invariant for some $C \subseteq S$ and $\Sigma_{x \in C} x = t$.\\
Base case: $S_0 \subseteq S$ is correct clearly since $S_0 = S$.\\
Induction step: Assume the claim is true for the $i^{th}$ iteration. Then Consider the $(i+ 1)^{th}$ iteration. If \const{Ssd}$(S_i - \{x\}, t)$ is \const{true}, then $x\notin C$ so $C\subseteq S_{i+1} = S_i - \{x\} $. If \const{Ssd}$(S_i - \{x\}, t)$ is \const{false}, $C\subseteq S_{i+1} = S_i$.\\
Hence, the claim is true.\\
Finally, since the loop iterates over all the elements in $S$, all the elements that cannot form a sum $t$ are removed from $S$. Therefore, \const{Sss} is correct.\\
\\
By the above argument, \const{SubsetSum} is polytime self-reducible. $\blacksquare$




\end{document}
